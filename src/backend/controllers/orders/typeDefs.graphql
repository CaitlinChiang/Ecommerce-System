type Order {
  _id: ID
  collectionMethod: String
  deliveryAddress: String
  payment: Payment
  paymentId: ID
  products: [Product]
  productIds: [string]
  productVariants: [ProductVariant]
  productVariantIds: [string]
  status: String
  user: User
  userId: ID
  createdAt: Date
  updatedAt: Date
}

type Payment {
  _id: ID
  _orderId: ID
  amountDue: Float
  method: String
  proofImage: File
  proofImageUrl: String
  status: String
  createdAt: Date
  updatedAt: Date
}

extend type Query {
  get_order(_id: ID!): Order
  get_orders: [Order]
  get_orders_count: Int
}

extend type Mutation {
  create_order(
    collectionMethod: String
    deliveryAddress: String
    payment: Payment
    productIds: [string]
    productVariantIds: [string]
    userId: ID
  ): Order

  update_order(
    _id: ID!
    collectionMethod: String!
    status: String!
  ): Order

  update_payment(
    _orderId: ID!
    proofImage: Upload
    status: String!
  ): Payment

  delete_order(_id: ID!): Order
}
