type Order {
  _id: ID
  collectionMethod: String
  deliveryAddress: DeliveryAddress
  items: [CartItem]
  payment: Payment
  paymentId: ID
  products: [Product]
  productVariants: [ProductVariant]
  status: String
  user: User
  userId: ID
  createdAt: String
  updatedAt: String
}

type Payment {
  _id: ID
  _orderId: ID
  amountDue: Float
  imageProof: File
  imageProofUrl: String
  method: String
  shippingFee: Float
  status: String
  createdAt: String
  updatedAt: String
}
input PaymentInput {
  amountDue: Float
  imageProof: File
  method: String
  shippingFee: Float
}

extend type Query {
  get_order(_id: ID!): Order

  get_orders: [Order]

  get_orders_count: Int
}

extend type Mutation {
  create_order(
    collectionMethod: String
    deliveryAddress: DeliveryAddressInput
    items: [CartItem]!
    payment: PaymentInput!
  ): Order

  update_order(_id: ID!, collectionMethod: String!, status: String!): Order

  update_payment(_orderId: ID!, imageProof: Upload, status: String!): Payment

  delete_order(_id: ID!, _paymentId: ID!): Order
}
